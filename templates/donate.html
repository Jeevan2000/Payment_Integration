{% extends 'base.html' %}
{% block title %}
Donation
{% endblock title %}
{% block body %}

<div class="container" >
    <div class="card-body" style="background-color: rgba(34, 33, 32, 0.911); opacity: 0.8; margin-top: 25px; 
    margin-left: 10cm;
    
    width: 10cm;">
        <form action="" method="POST">
            {% csrf_token %}
            <div class="mb-3" style="width: 9cm;">
                <label class="form-label" style="font-size: 18px;font-family: ''Noto Sans JP', sans-serif';
                    font-weight: 600; color: aliceblue;">Name</label>
                <input type="text" name="name" class="form-control" id="exampleInputEmail1"
                    aria-describedby="emailHelp">

            </div>
            <div class="mb-3"style="width: 9cm;color: aliceblue;">
                <label class="form-label" style="font-size: 18px;font-family: ''Noto Sans JP', sans-serif';
                    font-weight: 600;">Email </label>
                <input type="email" name="email" class="form-control" id="exampleInputPassword1">
            </div>
            <label class="form-label" style="font-size: 18px;font-family: ''Noto Sans JP', sans-serif';
                font-weight: 600;color: aliceblue;">Amount</label>
            <div class="input-group mb-2" style="width: 9.5cm;">
                <div class="input-group-prepend">
                    <div class="input-group-text" style="font-weight: 600;">&#8377</div>
                </div>

                <input type="number" name="amount" class="form-control" id="inlineFormInputGroup"> <br>
            </div>

            <div style="margin-left: 90px; padding-bottom: 50px; padding-top: 0px; margin-top: 25px; ">
                <button type="submit" class="button" style="background-color: rgb(230, 194, 97);
                color: black;
                font-size: 18px;font-family: ''Noto Sans JP', sans-serif';
                font-weight: 600;
                ">
                    <span>
                        Donate !
                    </span>
                </button>
            </div>
            <script>
                if (window.history.replaceState) {
                    window.history.replaceState(null, null, window.location.href);
                }
            </script>
        </form>
    </div>
</div>

{% if payment %}
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
    var options = {
        "key": "{{payment.keyid}}", // Enter the Key ID generated from the Dashboard
        "amount": "{{payment.amount}}", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
        "currency": "INR",
        "name": "Sparks Foundation",
        "description": "Together, we can save these preicous animals",
        "image": '../static/logo.jpg',
        "order_id": "{{payment.id}}", //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
        "callback_url": "success",
        "prefill": {
            "name": "{{payment.name}}",
            "email": "{{payment.email}}",
            "contact": ""
        },

        "theme": {
            "color": "#3399cc"
        }

    };
    var rzp1 = new Razorpay(options);
    rzp1.open();
</script>

{% endif %}


{% endblock body %}